<?xml version = '1.0' encoding = 'UTF-8'?>
<FunctionOracle class="oracle.dbtools.crest.model.design.storage.oracle.FunctionOracle" name="F_FDSL_RECAP_FACTU" id="B6201A89-FD4C-E998-B67D-974EC71F1D8C" directorySegmentName="seg_0">
<sourceConnName>DEV57_AXIONEUSER_FACTU</sourceConnName>
<sourceObjSchema>AXIONEUSER_FACTU</sourceObjSchema>
<sourceObjName>F_FDSL_RECAP_FACTU</sourceObjName>
<createdBy>R.WATH</createdBy>
<createdTime>2012-12-04 10:06:40 UTC</createdTime>
<generatorID>Généré par l&apos;utilisateur</generatorID>
<ownerDesignName>ST-SYS-SIB-BD_FCTPRO-000009-8 MCD-FACTUPRO V4.5.0</ownerDesignName>
<owner>4FCC3A6A-181E-A36A-613B-7868309493E2</owner>
<source>CREATE OR REPLACE FUNCTION                    AXIONEUSER_FACTU.F_FDSL_RECAP_FACTU (v_fai IN varchar2, v_dsp IN varchar2)&lt;br/&gt;&lt;br/&gt;return SYS_REFCURSOR as&lt;br/&gt;&lt;br/&gt;TYPE t_cursor is REF CURSOR;&lt;br/&gt;v_cursor t_cursor;&lt;br/&gt;&lt;br/&gt;BEGIN&lt;br/&gt;&lt;br/&gt;if (v_dsp = &apos;Tous&apos; and v_fai = &apos;Tous&apos;) then&lt;br/&gt;&lt;br/&gt;  open v_cursor FOR&lt;br/&gt;  select	 T_FDSL_RECAP_FACTURE.ID_FDSL_RECAP_FACTURE as ID_FDSL_RECAP_FACTURE,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.FAI as FAI,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.DSP as DSP,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.TECHNO as TECHNO,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.MOIS as MOIS,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.ANNEE as ANNEE,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.LIBELLE as LIBELLE,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.TYPE_FACTU as TYPE_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.DATE_CALC_FACTU as DATE_CALC_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.MODE_FACTU as MODE_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.TERME_FACTU as TERME_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.MONTANT as MONTANT,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.FREQUENCE_FACTU as FREQUENCE_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.STATUT as STATUT,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.USER_CREATION as USER_CREATION,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.DATE_CREATION as DATE_CREATION,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.USER_MODIF as USER_MODIF,&lt;br/&gt;	 T_Fdsl_Recap_Facture.Date_Modif As Date_Modif&lt;br/&gt; From	 T_Fdsl_Recap_Facture T_Fdsl_Recap_Facture;&lt;br/&gt;Elsif (V_Dsp = &apos;Tous&apos; And V_Fai Is Not Null) Then&lt;br/&gt;open v_cursor FOR&lt;br/&gt;  select T_FDSL_RECAP_FACTURE.ID_FDSL_RECAP_FACTURE as ID_FDSL_RECAP_FACTURE,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.FAI as FAI,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.DSP as DSP,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.TECHNO as TECHNO,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.MOIS as MOIS,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.ANNEE as ANNEE,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.LIBELLE as LIBELLE,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.TYPE_FACTU as TYPE_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.DATE_CALC_FACTU as DATE_CALC_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.MODE_FACTU as MODE_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.TERME_FACTU as TERME_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.MONTANT as MONTANT,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.FREQUENCE_FACTU as FREQUENCE_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.STATUT as STATUT,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.USER_CREATION as USER_CREATION,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.DATE_CREATION as DATE_CREATION,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.USER_MODIF as USER_MODIF,&lt;br/&gt;	 T_Fdsl_Recap_Facture.Date_Modif As Date_Modif&lt;br/&gt; From	 T_Fdsl_Recap_Facture T_Fdsl_Recap_Facture&lt;br/&gt; Where Fai = V_Fai;&lt;br/&gt;Elsif (V_Dsp Is Not Null And V_Fai = &apos;Tous&apos;) Then&lt;br/&gt;open v_cursor FOR&lt;br/&gt;  select	 T_FDSL_RECAP_FACTURE.ID_FDSL_RECAP_FACTURE as ID_FDSL_RECAP_FACTURE,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.FAI as FAI,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.DSP as DSP,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.TECHNO as TECHNO,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.MOIS as MOIS,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.ANNEE as ANNEE,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.LIBELLE as LIBELLE,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.TYPE_FACTU as TYPE_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.DATE_CALC_FACTU as DATE_CALC_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.MODE_FACTU as MODE_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.TERME_FACTU as TERME_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.MONTANT as MONTANT,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.FREQUENCE_FACTU as FREQUENCE_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.STATUT as STATUT,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.USER_CREATION as USER_CREATION,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.DATE_CREATION as DATE_CREATION,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.USER_MODIF as USER_MODIF,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.DATE_MODIF as DATE_MODIF&lt;br/&gt; From	 T_Fdsl_Recap_Facture T_Fdsl_Recap_Facture&lt;br/&gt; Where Dsp = V_Dsp;&lt;br/&gt;Elsif (V_Dsp Is Not Null And V_Fai Is Not Null) Then&lt;br/&gt;open v_cursor FOR&lt;br/&gt;  select	 T_FDSL_RECAP_FACTURE.ID_FDSL_RECAP_FACTURE as ID_FDSL_RECAP_FACTURE,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.FAI as FAI,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.DSP as DSP,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.TECHNO as TECHNO,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.MOIS as MOIS,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.ANNEE as ANNEE,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.LIBELLE as LIBELLE,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.TYPE_FACTU as TYPE_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.DATE_CALC_FACTU as DATE_CALC_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.MODE_FACTU as MODE_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.TERME_FACTU as TERME_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.MONTANT as MONTANT,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.FREQUENCE_FACTU as FREQUENCE_FACTU,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.STATUT as STATUT,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.USER_CREATION as USER_CREATION,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.DATE_CREATION as DATE_CREATION,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.USER_MODIF as USER_MODIF,&lt;br/&gt;	 T_FDSL_RECAP_FACTURE.DATE_MODIF as DATE_MODIF&lt;br/&gt; From	 T_Fdsl_Recap_Facture T_Fdsl_Recap_Facture&lt;br/&gt; where DSP = v_dsp and Fai = V_Fai;&lt;br/&gt;end if;&lt;br/&gt;RETURN v_cursor;&lt;br/&gt;&lt;br/&gt;END F_FDSL_RECAP_FACTU;</source>
</FunctionOracle>